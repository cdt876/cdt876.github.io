<!DOCTYPE PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   SYSTEM "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
        <title>GSA File Manager</title>

        <!--BEGIN STYLESHEET/SCRIPT-->
        <!--LOAD THREE STYLESHEETS, 1 COMMON, 1 FOR NETSCAPE, 1 FOR IE-->
<!--        <link rel="stylesheet" type="text/css" href="/images/w3/v6/css/w3_common.css" />
        <link rel="stylesheet" type="text/css" href="/images/w3/v6/css/w3_netscape.css" disabled />
-->
        <script language="JavaScript1.2" type="text/javascript">
        <!--
//                if (document.all) document.createStyleSheet("/images/w3/v6/css/w3_ie.css");
        //-->
        </script>
        <!--END STYLESHEET/SCRIPT-->
</head>

<body bgcolor="#FFFFFF" marginheight="0" marginwidth="0" leftmargin="0" topmargin="0">

<!--BEGIN CONTENT SHELL-->
<CENTER>
                        <script type="text/javaScript" src="/ui/v8/scripts/scripts.js"></script>
<SCRIPT SRC="/gsatools/Cookies.js"></SCRIPT>

<SCRIPT LANGUAGE="JavaScript1.2">
function getBrowse(element) {
  var brsWin = window.open('', 'ausgsaBrowseTop', 'toolbar=no,location=no,directories=no,status=no,dependent=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=580,height=400')
  brsWin.browseTarget = element
}
</SCRIPT>



<link rel="stylesheet" type="text/css" src="http://w3.ibm.com/ui/v8/css/v4-scre
en.css"></link>
<LINK REL="stylesheet" TYPE="text/css" HREF="/gsadoc/gsa.css"></LINK>
<STYLE TYPE="text/css" MEDIA="all">
  html,body     {min-width:400px;}
  table.basic-table { width: 400 }
</STYLE>

<SCRIPT LANGUAGE="JavaScript1.2">
function submittedForm(form){
    var pop  = form.PWSParentPath.value
    var src  = form.PWSNewPath.value

    if ( src == "" ) {
	alert("The new folder name is empty. Please enter a valid folder name.")
	return false;
    }
    
    var space1 = /^ /
    var space2 = / $/

    if ( src.match(space1) ) {
	alert("The new folder name may not start with a space ' '.")
	return false;
    }

    if ( src.match(space2) ) {
	alert("The new folder name may not end with a space ' '.")
	return false;
    }

    src = pop + src;

    var top = /^\//
    if ( !src.match(top) ) {
	alert("The source path must start with '/'.")
	return false;
    }

    if(src.match(/\"/)) {
	alert("File names cannot contain double quotes (\")");
	return false;
    }

    var testdot1 = /\/\.\.$/
    results = testdot1.test(src)

    var testdot2 = /\/\.\.\//
    results2 = testdot2.test(src)

    var testdot3 = /\/\.\//
    results3 = testdot3.test(src)

    var testdot4 = /\/\.$/
    results4 = testdot4.test(src)

    if ( results || results2 || results3 || results4 ) {
       alert("You may not use relative paths (eg. '..') for this tool.")
       return false;
    }



    return true;
}
function submitButton(form){
    if(submittedForm(form))
    form.submit();
}

</SCRIPT>


<FORM ACTION=../backend/newdir.cgi METHOD=Post ENCTYPE=application/x-www-form-urlencoded ONSUBMIT="javascript:return submittedForm(document.forms.GSAToolForm)" TARGET=ausgsaTaskWin NAME=GSAToolForm>

<BR>
<TABLE BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
<TR ALIGN=RIGHT><td> </TD></TR>
<TR ALIGN=CENTER><td>
  <SPAN CLASS="heading">Create Folder</SPAN>
</TD></TR>
</TABLE>
<BR>
<TABLE CLASS="basic-table" BORDER=0 CELLSPACING=2 CELLPADDING=2>
  <TR CLASS="even">
    <TD ALIGN=LEFT VALIGN=CENTER WIDTH=400><TABLE BORDER=0 CELLSPACING=5 CELLPADDING=5><TR><TD align=left><INPUT TYPE=hidden NAME=PWSParentPath VALUE="/gsa/ausgsa/projects/c/csat/"><B>New Folder Name:</B><BR>/gsa/ausgsa/projects/c/csat/ <INPUT TYPE=text NAME=PWSNewPath SIZE=20></TD></TR></TABLE></TD>
  </TR>
  <TR>
    <TD ALIGN=CENTER COLSPAN=2>
         <span class="button-blue"><input type="button" value="Submit" onClick="submitButton(document.forms.GSAToolForm)"></span>

         <span class="button-blue"><input type="button" value="Cancel" onclick="top.close()"></span>

    </TD>
  </TR>
</TABLE>
</FORM>
<SCRIPT LANGUAGE="JavaScript1.2">

</SCRIPT>

</CENTER>
<!--END CONTENT SHELL-->
</body>
</html>
